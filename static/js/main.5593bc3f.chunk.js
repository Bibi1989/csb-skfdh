(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(4),a=n.n(c),l=n(2),i=n(7),o=n(3),s=n.n(o),u=n(5),d=n(6),j=.032808,b=n(1),v=function(e){var t=e.characters,n=(e.onSort,e.onDoubleClickSort),r=(e.toggle,null===t||void 0===t?void 0:t.reduce((function(e,t){return e+Number(null===t||void 0===t?void 0:t.height)}),0)),c=Math.floor(r*j),a=(r/j).toFixed(2).split(".")[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("table",{width:"100%",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{onDoubleClick:function(){return n("name")},children:[Object(b.jsx)("span",{children:"Name"})," ",Object(b.jsx)("i",{className:"fas fa-sort"})]}),Object(b.jsxs)("td",{onDoubleClick:function(){return n("gender")},children:[Object(b.jsx)("span",{children:"Gender"})," ",Object(b.jsx)("i",{className:"fas fa-sort"})]}),Object(b.jsxs)("td",{onDoubleClick:function(){return n("height")},children:[Object(b.jsx)("span",{children:"Height"})," ",Object(b.jsx)("i",{className:"fas fa-sort"})]})]})}),Object(b.jsxs)("tbody",{children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.gender}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.height})]},t)})),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[r," cm (",c,"ft/",a,"in)"]}),Object(b.jsx)("td",{className:"total",children:Object(b.jsxs)("span",{children:[null===t||void 0===t?void 0:t.length," characters"]})}),Object(b.jsx)("td",{})]})]})]})})},h=[{id:1,label:"All",value:""},{id:1,label:"Male",value:"male"},{id:1,label:"Female",value:"female"},{id:1,label:"Others",value:"others"}],f=function(e){var t=e.film,n=(e.loading,null===t||void 0===t?void 0:t.characters),c=Object(r.useState)([]),a=Object(l.a)(c,2),o=a[0],u=a[1],j=Object(r.useState)(!0),f=Object(l.a)(j,2),O=f[0],p=f[1],x=Object(r.useState)(!1),m=Object(l.a)(x,2),g=m[0],k=m[1],C=Object(r.useCallback)(function(){var e=Object(d.a)(s.a.mark((function e(t,r){var c,a,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>2&&void 0!==l[2]?l[2]:"name",e.prev=1,k(!0),e.next=5,Promise.all(n.map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 5:if(a=e.sent,"sort"!==t){e.next=9;break}return r?(u(null===a||void 0===a?void 0:a.sort((function(e,t){return e.name.localeCompare(t.name)}))),k(!1),p(!1)):(u(a.sort((function(e,t){return t.name.localeCompare(e.name)}))),k(!1),p(!0)),e.abrupt("return");case 9:if("doubleClick"!==t){e.next=13;break}return r?(u(null===a||void 0===a?void 0:a.sort((function(e,t){return e[c].localeCompare(t[c])}))),k(!1),p(!1)):(u(a.sort((function(e,t){return t[c].localeCompare(e[c])}))),k(!1),p(!0)),k(!1),e.abrupt("return");case 13:if("others"!==t){e.next=17;break}return u(a.filter((function(e){return"male"!==(null===e||void 0===e?void 0:e.gender)&&"female"!==(null===e||void 0===e?void 0:e.gender)}))),k(!1),e.abrupt("return");case 17:u(t?a.filter((function(e){return(null===e||void 0===e?void 0:e.gender)===t})):a),k(!1),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),alert(null===e.t0||void 0===e.t0?void 0:e.t0.message),k(!1);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t,n){return e.apply(this,arguments)}}(),[n,u]);Object(r.useEffect)((function(){C()}),[u,C]);return Object(b.jsxs)("div",{className:"film-detail",children:[Object(b.jsx)("h1",{children:null===t||void 0===t?void 0:t.title}),Object(b.jsx)("p",{className:"marquee",children:Object(b.jsx)("span",{children:null===t||void 0===t?void 0:t.opening_crawl})}),Object(b.jsx)("div",{className:"film-detail-select",children:Object(b.jsx)(i.a,{options:h,className:"film-detail-select__select",onChange:function(e){C(null===e||void 0===e?void 0:e.value)}})}),g?Object(b.jsx)("p",{className:"loading",children:"Loading..."}):Object(b.jsx)(v,{characters:o,onSort:function(e){e.stopPropagation(),C("sort",O)},onDoubleClickSort:function(e){C("doubleClick",O,e)},toggle:O})]})},O=function(){var e,t,n=function(e){var t=Object(r.useState)({loading:!1,data:[],error:null}),n=Object(l.a)(t,2),c=n[0],a=n[1],i=function(){var t=Object(d.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Object(u.a)(Object(u.a)({},c),{},{loading:!0,error:null})),t.next=4,fetch(e);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,a({loading:!1,data:r,error:null}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(Object(u.a)(Object(u.a)({},c),{},{loading:!1,error:null===t.t0||void 0===t.t0?void 0:t.t0.message}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),c}("https://swapi.dev/api/films"),c=n.data,a=n.loading,o=Object(r.useState)(),j=Object(l.a)(o,2),v=j[0],h=j[1],O=null===c||void 0===c||null===(e=c.results)||void 0===e||null===(t=e.sort((function(e,t){return e.release_date.localeCompare(t.release_date)})))||void 0===t?void 0:t.map((function(e){return{label:null===e||void 0===e?void 0:e.title,value:e}}));return Object(b.jsxs)("div",{children:[Object(b.jsx)(i.a,{options:O,onChange:function(e){h(null===e||void 0===e?void 0:e.value)}}),v?Object(b.jsx)(f,{film:v,loading:a}):Object(b.jsx)("div",{className:"star-logo",children:Object(b.jsx)("img",{src:"https://pipedream.com/s.v0/app_mE7hlb/logo/orig",width:"300px",height:"300px",alt:"star war logo"})})]})},p=O;n(35);function x(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Star Warship"}),Object(b.jsx)(p,{})]})}var m=document.getElementById("root");a.a.render(Object(b.jsx)(r.StrictMode,{children:Object(b.jsx)(x,{})}),m)}},[[36,1,2]]]);
//# sourceMappingURL=main.5593bc3f.chunk.js.map